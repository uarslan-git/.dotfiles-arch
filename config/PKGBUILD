tar -h --exclude=.idea -cf rootfs.tar -C rootfs .

pkgname=linux-config
pkgver=0.1.0
pkgrel=1
pkgdesc='linux config'
url="https://github.com/uarslan-git/linux-config"
license=('GPL3')
arch=('x86_64')
source=('rootfs.tar')
noextract=('rootfs.tar')
sha512sums=('SKIP')


#startPackages
depends=(
    amd-ucode
    arandr
    autorandr
    baobab
    base
    base-devel
    blender
    bottles
    breeze-hacked-cursor-theme-git
    brightnessctl
    btop
    calibre
    copyq
    cronie
    curl
    darktable
    davinci-resolve-studio
    displaylink
    docker
    docker-compose
    dunst
    efibootmgr
    epiphany
    evdi
    evince
    fcitx5
    fcitx5-configtool
    fcitx5-mozc
    fd
    feh
    firefox
    flameshot
    fzf
    fzf-tab-git
    gamemode
    gdb
    gdm
    ghidra
    gimp
    git
    git-delta
    github-cli
    git-secret
    gnome-backgrounds
    gnome-calculator
    gnome-calendar
    gnome-characters
    gnome-clocks
    gnome-color-manager
    gnome-connections
    gnome-console
    gnome-contacts
    gnome-control-center-x11-scaling
    gnome-disk-utility
    gnome-font-viewer
    gnome-keyring
    gnome-logs
    gnome-maps
    gnome-menus
    gnome-music
    gnome-remote-desktop
    gnome-session
    gnome-settings-daemon
    gnome-shell
    gnome-shell-extension-arc-menu
    gnome-shell-extension-dash-to-dock
    gnome-shell-extension-gtile
    gnome-shell-extensions
    gnome-software
    gnome-system-monitor
    gnome-terminal
    gnome-text-editor
    gnome-tour
    gnome-tweaks
    gnome-user-docs
    gnome-user-share
    gnome-weather
    google-chrome
    gradle
    grilo-plugins
    grive
    gst-plugin-pipewire
    gvfs
    gvfs-afc
    gvfs-goa
    gvfs-google
    gvfs-gphoto2
    gvfs-mtp
    gvfs-nfs
    gvfs-smb
    gzip
    imhex-bin
    inkscape
    intellij-idea-ultimate-edition
    intellij-idea-ultimate-edition-jre
    intel-ucode
    jdk-openjdk
    jdownloader2
    k9s
    kdeconnect
    keepassxc
    kitty
    krita
    lib32-nvidia-utils
    lib32-pipewire
    lib32-pipewire-jack
    libpulse
    libreoffice-still
    linux-firmware
    linux-zen
    linux-zen-headers
    loupe
    lutris
    lxappearance
    ly
    malcontent
    man-db
    man-pages
    matcha-gtk-theme
    maven
    mutter-x11-scaling
    nautilus
    nerd-fonts-complete-mono-glyphs
    networkmanager
    network-manager-applet
    nmap
    nodejs
    npm
    ntfs-3g
    nvidia-dkms
    nvidia-settings
    nvim-packer-git
    nvtop
    obs-studio
    oh-my-zsh-git
    opencl-nvidia
    openssh
    orca
    papirus-icon-theme
    paru
    paruz
    pavucontrol
    picom
    pipewire
    pipewire-alsa
    pipewire-jack
    pipewire-pulse
    playerctl
    pycharm-professional
    python
    python-virtualenv
    qalculate-gtk
    ranger
    ripgrep
    rofi
    rygel
    simple-scan
    slack-desktop
    snapshot
    sof-firmware
    steam
    sushi
    systemd
    tecla
    texstudio
    thunar
    thunderbird
    tlp
    torbrowser-launcher
    totem
    tracker3-miners
    tree
    ufw
    unrar
    unzip
    vesktop-bin
    vlc
    volumeicon
    webstorm
    webstorm-jre
    which
    winetricks
    wireplumber
    xclip
    xdg-desktop-portal-gnome
    xdg-desktop-portal-gtk
    xdg-user-dirs-gtk
    xf86-video-vesa
    xorg-bdftopcf
    xorg-docs
    xorg-fonts-100dpi
    xorg-fonts-75dpi
    xorg-font-util
    xorg-iceauth
    xorg-server
    xorg-server-devel
    xorg-server-xephyr
    xorg-server-xnest
    xorg-server-xvfb
    xorg-sessreg
    xorg-smproxy
    xorg-x11perf
    xorg-xbacklight
    xorg-xcmsdb
    xorg-xcursorgen
    xorg-xdriinfo
    xorg-xev
    xorg-xgamma
    xorg-xinit
    xorg-xinput
    xorg-xkbevd
    xorg-xkbprint
    xorg-xkbutils
    xorg-xkill
    xorg-xlsatoms
    xorg-xlsclients
    xorg-xpr
    xorg-xprop
    xorg-xrefresh
    xorg-xsetroot
    xorg-xvinfo
    xorg-xwd
    xorg-xwininfo
    xorg-xwud
    xss-lock-session
    yelp
    youtubemusic
    zip
    zoom
    zsh
    zsh-autosuggestions
    zsh-completions
    zsh-syntax-highlighting
    zsh-theme-powerlevel10k-git
    zsh-you-should-use
  )
  #endPackages

  if lscpu | rg intel &>/dev/null; then depends+=(prime nvidia-prime blueman bluez-utils); fi

  # Functions
  paru() {
  	if ! pacman -Qq | grep -i paru &>/dev/null; then
		git clone https://aur.archlinux.org/paru.git
		pushd paru
		makepkg -sif
		popd
		rm -rf paru
	fi
  }

  zsh() {
	  if [ $(basename $SHELL) != "zsh" ]; then
	  	chsh -s /usr/bin/zsh
	  fi
  }

  paru
  zsh

package() {
   tar -xf rootfs.tar -C "$pkgdir" --overwrite
   echo "finished"
}
